name = "single-page-frame"
compatibility_date = "2024-01-01"

[env.production]
routes = [
  { pattern = "your-domain.com/*", zone_name = "your-domain.com" }
]

[[env.production.kv_namespaces]]
binding = "ROUTES_KV"
id = "your-kv-namespace-id"
preview_id = "your-kv-preview-id"

[env.production.vars]
ENVIRONMENT = "production"

[env.preview]
[[env.preview.kv_namespaces]]
binding = "ROUTES_KV"
id = "your-kv-preview-id"

[env.preview.vars]
ENVIRONMENT = "preview"

[build]
command = "npm run build"
cwd = "."
watch_dir = "."

[build.upload]
format = "modules"
main = "./_worker.js"